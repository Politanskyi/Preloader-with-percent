let images_all=document.images,images_total_count=images_all.length,images_loaded_count=0,preloader=document.querySelector("#preloader"),show_percent=document.querySelector("#percent"),show_progress=document.querySelector(".progress");for(let image of images_all){let image_clone=new Image;image_clone.src=image.src,image_clone.addEventListener("load",image_loader),image_clone.addEventListener("error",(function(){image_none(image)}))}function image_loader(){images_loaded_count++;let calc_percent=`${Math.trunc(100/images_total_count*images_loaded_count)}%`;show_percent.innerHTML=calc_percent,show_progress.style.width=calc_percent,images_loaded_count>=images_total_count&&setTimeout((function(){preloader.classList.contains("preloader-style__loader__done")||preloader.classList.add("preloader-style__loader__done")}),500)}function image_none(error_image){let bad_way="http://denrakaev.com/wp-content/uploads/2015/03/no-image-800x511.png";error_image.src=bad_way,image_loader()}